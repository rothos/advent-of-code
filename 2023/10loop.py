file = "input10.txt"
# file = "test10b.txt"

with open(file, 'r') as f:
    lines = list([l.strip() for l in f.readlines()])

x = -1
for y,l in enumerate(lines):
    if 'S' in l:
        x = l.index('S')
        break

xy = [(x,y)]

direction = 's'
steps = 0
tile = '|'
while tile != 'S':
    if direction == 'n': y -= 1
    if direction == 's': y += 1
    if direction == 'w': x -= 1
    if direction == 'e': x += 1
    steps += 1
    tile = lines[y][x]
    xy += [(x,y)]
    if tile == 'L' and direction == 's': direction = 'e'
    if tile == 'L' and direction == 'w': direction = 'n'
    if tile == 'F' and direction == 'n': direction = 'e'
    if tile == 'F' and direction == 'w': direction = 's'
    if tile == '7' and direction == 'e': direction = 's'
    if tile == '7' and direction == 'n': direction = 'w'
    if tile == 'J' and direction == 'e': direction = 'n'
    if tile == 'J' and direction == 's': direction = 'w'

del xy[-1]

ins = [(58, 36), (68, 36), (79, 36), (96, 36), (47, 38), (61, 38), (101, 38), (70, 39), (79, 39), (38, 40), (88, 40), (42, 41), (45, 41), (97, 42), (104, 42), (75, 43), (40, 44), (54, 44), (82, 44), (85, 44), (93, 44), (96, 44), (67, 45), (74, 45), (38, 47), (54, 47), (70, 47), (95, 47), (46, 48), (80, 49), (37, 50), (42, 52), (49, 52), (59, 52), (79, 52), (46, 53), (71, 53), (54, 54), (76, 54), (98, 55), (36, 56), (39, 56), (46, 56), (61, 56), (50, 57), (94, 57), (58, 58), (84, 58), (102, 58), (58, 59), (66, 59), (67, 59), (80, 59), (100, 59), (40, 60), (58, 60), (89, 60), (90, 60), (70, 61), (89, 61), (92, 61), (101, 61), (66, 62), (38, 63), (65, 63), (66, 63), (76, 63), (77, 63), (50, 64), (63, 64), (64, 64), (65, 64), (66, 64), (67, 64), (74, 64), (77, 64), (78, 64), (63, 65), (67, 65), (68, 65), (69, 65), (74, 65), (78, 65), (81, 65), (40, 66), (47, 66), (67, 66), (68, 66), (69, 66), (70, 66), (71, 66), (74, 66), (50, 67), (66, 67), (67, 67), (68, 67), (69, 67), (70, 67), (71, 67), (72, 67), (73, 67), (74, 67), (75, 67), (88, 67), (96, 67), (56, 68), (65, 68), (66, 68), (67, 68), (68, 68), (69, 68), (70, 68), (71, 68), (72, 68), (73, 68), (74, 68), (75, 68), (76, 68), (44, 69), (47, 69), (65, 69), (66, 69), (67, 69), (68, 69), (69, 69), (70, 69), (71, 69), (72, 69), (73, 69), (74, 69), (75, 69), (76, 69), (77, 69), (78, 69), (37, 70), (65, 70), (66, 70), (67, 70), (68, 70), (69, 70), (70, 70), (71, 70), (72, 70), (73, 70), (74, 70), (75, 70), (76, 70), (77, 70), (78, 70), (86, 70), (99, 70), (102, 70), (61, 71), (64, 71), (65, 71), (66, 71), (67, 71), (68, 71), (69, 71), (70, 71), (71, 71), (72, 71), (73, 71), (74, 71), (75, 71), (76, 71), (77, 71), (93, 71), (59, 72), (65, 72), (66, 72), (67, 72), (68, 72), (69, 72), (70, 72), (71, 72), (72, 72), (73, 72), (74, 72), (75, 72), (76, 72), (77, 72), (65, 73), (66, 73), (67, 73), (68, 73), (69, 73), (70, 73), (71, 73), (72, 73), (73, 73), (74, 73), (75, 73), (76, 73), (77, 73), (78, 73), (88, 73), (65, 74), (66, 74), (67, 74), (68, 74), (69, 74), (70, 74), (71, 74), (72, 74), (73, 74), (74, 74), (75, 74), (76, 74), (77, 74), (78, 74), (84, 74), (65, 75), (66, 75), (67, 75), (68, 75), (69, 75), (70, 75), (71, 75), (72, 75), (73, 75), (74, 75), (75, 75), (76, 75), (77, 75), (78, 75), (64, 76), (65, 76), (66, 76), (67, 76), (68, 76), (69, 76), (70, 76), (71, 76), (72, 76), (73, 76), (74, 76), (75, 76), (76, 76), (77, 76), (78, 76), (81, 76), (96, 76), (44, 77), (61, 77), (64, 77), (65, 77), (66, 77), (67, 77), (68, 77), (69, 77), (70, 77), (71, 77), (72, 77), (73, 77), (74, 77), (75, 77), (76, 77), (77, 77), (78, 77), (36, 78), (42, 78), (62, 78), (63, 78), (64, 78), (65, 78), (66, 78), (67, 78), (68, 78), (69, 78), (70, 78), (71, 78), (72, 78), (73, 78), (74, 78), (75, 78), (76, 78), (92, 78), (54, 79), (62, 79), (63, 79), (64, 79), (65, 79), (66, 79), (67, 79), (68, 79), (69, 79), (70, 79), (71, 79), (72, 79), (73, 79), (74, 79), (75, 79), (104, 79), (49, 80), (62, 80), (63, 80), (64, 80), (65, 80), (66, 80), (67, 80), (68, 80), (69, 80), (70, 80), (71, 80), (72, 80), (73, 80), (74, 80), (75, 80), (89, 80), (45, 81), (60, 81), (61, 81), (62, 81), (63, 81), (64, 81), (65, 81), (66, 81), (67, 81), (68, 81), (69, 81), (70, 81), (71, 81), (72, 81), (73, 81), (74, 81), (75, 81), (76, 81), (79, 81), (52, 82), (59, 82), (60, 82), (61, 82), (62, 82), (63, 82), (64, 82), (65, 82), (66, 82), (67, 82), (68, 82), (69, 82), (74, 82), (75, 82), (76, 82), (77, 82), (99, 82), (36, 83), (59, 83), (60, 83), (61, 83), (62, 83), (63, 83), (64, 83), (65, 83), (66, 83), (67, 83), (68, 83), (69, 83), (84, 83), (87, 83), (58, 84), (61, 84), (62, 84), (63, 84), (64, 84), (65, 84), (66, 84), (67, 84), (68, 84), (69, 84), (70, 84), (78, 84), (81, 84), (104, 84), (65, 85), (66, 85), (67, 85), (68, 85), (69, 85), (70, 85), (36, 86), (39, 86), (55, 86), (66, 86), (67, 86), (68, 86), (69, 86), (70, 86), (71, 86), (45, 87), (70, 87), (71, 87), (77, 87), (98, 87), (86, 88), (48, 91), (55, 91), (93, 91), (76, 92), (82, 92), (98, 93), (38, 94), (75, 94), (90, 95), (49, 96), (102, 96), (40, 97), (60, 97), (86, 97), (46, 98), (89, 99), (98, 99), (77, 100), (97, 103), (42, 104), (47, 104), (93, 104)]

img = [list(s) for s in lines]
for y in range(len(lines)):
    for x in range(len(lines[0])):
        if (x,y) in xy:
            img[y][x] = '.'
        elif (x,y) in ins:
            img[y][x] = '#'
        else:
            img[y][x] = ' '


f = open("10_loop.txt", "w")
f.write("\n".join(["".join(s) for s in img]))
f.close()
